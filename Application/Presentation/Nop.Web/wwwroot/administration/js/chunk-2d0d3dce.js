(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3dce"],{"5f29":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-card",[a("v-card-title",[e._v("Service Categories"),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",placeholder:"Search Category"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{persistent:"",width:"100%","max-width":600},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-btn",e._g({staticClass:"btn custom primary",on:{click:e.getSourceCategories}},o),[e._v("Add Category")])]}}]),model:{value:e.addCategoryDialog,callback:function(t){e.addCategoryDialog=t},expression:"addCategoryDialog"}},[a("v-card",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.closeCategoryDialog}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Add Category")])],1),a("v-form",{ref:"addCategoryForm",staticClass:"pa-4",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-combobox",{attrs:{loading:!e.sourceCategories.length,"item-text":"Name","item-value":"Id","return-object":!0,items:e.sourceCategories,label:"Category Name",placeholder:"Enter Category Name, e.g.: House Cleaning",rules:e.NameRules,required:""},nativeOn:{input:function(t){e.category=t.srcElement.value}},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btn custom transparent",on:{click:e.closeCategoryDialog}},[e._v("Cancel")]),a("v-btn",{staticClass:"btn custom primary",on:{click:e.createCategory}},[e._v("Add")])],1)],1)],1)],1)],1),a("v-data-table",{attrs:{search:e.search,items:e.categories,headers:e.tableHeaders},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-center"},[e._v(e._s(t.item.Id))]),a("td",[e._v(e._s(t.item.Name))]),a("td",{staticClass:"text-center"},[e._v(e._s(t.item.Published))]),a("td",{staticClass:"layout justify-center"},[a("v-flex",{attrs:{shrink:""}},[a("v-btn",{attrs:{color:"blue",dark:"",icon:""},on:{click:function(a){return e.showEditCategoryDialog(t.item)}}},[a("v-icon",[e._v("edit")])],1)],1),a("v-flex",{attrs:{shrink:""}},[a("v-btn",{attrs:{color:"red",dark:"",icon:""},on:{click:function(a){return e.deleteCategory(t.item)}}},[a("v-icon",[e._v("delete")])],1)],1)],1)]}}])}),a("v-dialog",{attrs:{persistent:"",width:"100%","max-width":600},model:{value:e.editCategoryDialog,callback:function(t){e.editCategoryDialog=t},expression:"editCategoryDialog"}},[a("v-card",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.closeCategoryDialog}},[a("v-icon",[e._v("close")])],1),a("v-toolbar-title",[e._v("Edit Category")])],1),a("v-form",{ref:"addCategoryForm",staticClass:"pa-4",attrs:{"lazy-validation":""},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"New Category Name"},nativeOn:{input:function(t){e.editCategory.Name=t.srcElement.value}},model:{value:e.editCategory.Name,callback:function(t){e.$set(e.editCategory,"Name",t)},expression:"editCategory.Name"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"btn custom transparent",on:{click:e.closeCategoryDialog}},[e._v("Cancel")]),a("v-btn",{staticClass:"ml-3 btn custom primary",on:{click:e.updateCategory}},[e._v("Save")])],1)],1)],1)],1)],1)],1)},i=[],r=(a("cadf"),a("551c"),a("097d"),a("7eac")),n=a("00cd"),s={data:function(){return{search:"",tableHeaders:[{text:"ID",value:"Id",align:"center",width:"100px"},{text:"Service Category Name",value:"Name",align:"left"},{text:"Published",value:"Published",align:"center"},{text:"Actions",value:"Name",sortable:!1,width:"200px",align:"center"}],addCategoryDialog:!1,editCategoryDialog:!1,valid:!1,categories:[],sourceCategories:[],category:{Id:null,Name:""},editCategory:{Id:null,Name:""},categoryExists:!0,NameRules:[function(e){return!!e||"Please enter the Category Name"},function(e){return!!e||"Category Name must be at least 3 letters"}]}},methods:{getCategroies:function(){var e=this;n["a"].serviceCategories.getCategroies().then(function(t){console.log(t.data),e.categories=t.data})},getSourceCategories:function(){var e=this;n["a"].sources.getSourceCategories().then(function(t){console.log(t.data),e.sourceCategories=t.data})},createCategory:function(){var e,t=this;this.$refs.addCategoryForm.validate()&&(e="string"==typeof this.category?this.category:this.category.Name,n["a"].serviceCategories.createCategory({Name:Object(r["b"])(e)}).then(function(e){t.getCategroies(),t.closeCategoryDialog()}))},clearAll:function(){this.addCategoryDialog=!1,this.editCategoryDialog=!1,this.valid=!1,this.category={Id:null,Name:""},this.editCategory={Id:null,Name:""},this.categoryExists=!0},closeCategoryDialog:function(){this.clearAll()},showEditCategoryDialog:function(e){this.editCategoryDialog=!0,this.editCategory=e},updateCategory:function(){var e=this;console.log(this.editCategory),n["a"].serviceCategories.updateCategory({Id:this.editCategory.Id,Name:this.editCategory.Name}).then(function(t){return e.closeCategoryDialog()})},deleteCategory:function(e){confirm("Do you really want to delete ".concat(e.Name,"?"))&&n["a"].serviceCategories.deleteCategory(e.Id).then(function(e){return alert("Category name deleted!")})},getServiceQuestionnaire:function(){var e=this;n["a"].questionnaires.getServiceQuestionnaire(this.editService.Id).then(function(t){t.data?e.questionnaire=t.data:e.createNewQuestionnaire(),console.log(t.data),e.questionnaireOpen=!0})}},mounted:function(){this.getCategroies()}},c=s,l=a("2877"),d=a("6544"),g=a.n(d),u=a("8336"),v=a("b0af"),C=a("99d9"),y=a("12b2"),m=a("2b5d"),f=a("a523"),h=a("8fea"),b=a("169a"),p=a("0e8f"),x=a("4bd4"),N=a("132d"),D=a("9910"),k=a("2677"),_=a("71d9"),w=a("2a7f"),V=Object(l["a"])(c,o,i,!1,null,"1a76f14c",null);t["default"]=V.exports;g()(V,{VBtn:u["a"],VCard:v["a"],VCardActions:C["a"],VCardTitle:y["a"],VCombobox:m["a"],VContainer:f["a"],VDataTable:h["a"],VDialog:b["a"],VFlex:p["a"],VForm:x["a"],VIcon:N["a"],VSpacer:D["a"],VTextField:k["a"],VToolbar:_["a"],VToolbarTitle:w["b"]})}}]);
//# sourceMappingURL=chunk-2d0d3dce.js.map